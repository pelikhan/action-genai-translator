---
title: Astro Starlight
description: Configuring your Starlight docs site
sidebar:
  order: 9
---

import { Steps } from "@astrojs/starlight/components";

This action can be used to translation the content of a [Astro Starlight](https://starlight.astro.build/) documentation site.
It requires a specific setup of Starlight as detailled below.

<Steps>

<ol>

<li>

Follow the Starlight guide to use a [root locale](https://starlight.astro.build/guides/i18n/#use-a-root-locale).

</li>

<li>

To enable the Starlight mode, you need to provide `starlight_dir` and `starlight_base` inputs in the action.

```yaml title=".github/workflows/ct.yml" "starlight_dir: ./docs" "starlight_base: my_repo_name"
uses: pelikhan/action-continuous-translation@v0
with:
  starlight_dir: ./docs
  starlight_base: my_repo_name
```

</li>

</ol>

</Steps>

## AI Content Notice

You can inform your users that the translation was generated by GenAI by
adding a notice in the title. At this time, the Astro Starlight does not support a builtin feature to add notices
so it requires to override a few components.

- [Override](https://starlight.astro.build/guides/overriding-components/#how-to-override) the `PageTitle` and `Hero` components in your `astro.config.mjs` file:

  ```ts title="astro.config.mjs"
  export default defineConfig({
    integrations: [
      starlight({
        components: {
          PageTitle: "./src/components/PageTitle.astro",
          Hero: "./src/components/Hero.astro",
        },
      }),
    ],
  });
  ```

- Add the components in your `src/components` directory [from the `docs/src/components` in this repository](https://github.com/pelikhan/action-continuous-translation/tree/main/docs/src/components).

Feel free to modify the logic in `AIGeneratedNotice.astro` to fit your needs.

## Astro Link Validator

If you use the [Astro Link Validator](https://github.com/HiDeoo/starlight-links-validator),
make sure to disable `errorOnRelativeLinks` option in your `astro.config.mjs` file
as the localized links are relative to the root locale.

```js title="astro.config.mjs" "errorOnRelativeLinks: false"
import starlightLinksValidator from "starlight-links-validator";

export default defineConfig({
  integrations: [
    starlight({
      plugins: [
        starlightLinksValidator({
          errorOnRelativeLinks: false,
        }),
      ],
    }),
  ],
});
```
